"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.__handleException = exports.getExpireDateFromDate = void 0;
var axios_1 = require("axios");
var APIBadRequestException_1 = require("./exceptions/APIBadRequestException");
var APIUnauthorized_1 = require("./exceptions/APIUnauthorized");
var arifpayexception_1 = require("./exceptions/arifpayexception");
var arifpaynetworkexception_1 = require("./exceptions/arifpaynetworkexception");
function getExpireDateFromDate(date) {
    return date.toISOString();
}
exports.getExpireDateFromDate = getExpireDateFromDate;
function __handleException(error) {
    var _a, _b, _c, _d;
    if (axios_1.default.isAxiosError(error)) {
        if (error.response) {
            if (((_a = error.response) === null || _a === void 0 ? void 0 : _a.status) === 401)
                throw new APIUnauthorized_1.default('Invalid authentication credentials');
            if (((_b = error.response) === null || _b === void 0 ? void 0 : _b.status) === 400) {
                var arifAPIResponse = (_c = error.response) === null || _c === void 0 ? void 0 : _c.data;
                throw new APIBadRequestException_1.default(arifAPIResponse.msg, arifAPIResponse.data);
            }
            throw new arifpayexception_1.default(((_d = error.response) === null || _d === void 0 ? void 0 : _d.data).msg);
        }
        else
            throw new arifpaynetworkexception_1.default(error.message);
    }
}
exports.__handleException = __handleException;
